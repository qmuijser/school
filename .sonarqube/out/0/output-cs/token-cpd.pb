Ó
8C:\Users\quint\Desktop\school\Context\DatabaseContext.cs
	namespace 	
backend_school_api
 
. 
Context $
{		 
public

 

class

 
DatabaseContext

  
:

! "
	DbContext

# ,
{ 
public 
DatabaseContext 
( 
DbContextOptions /
</ 0
DatabaseContext0 ?
>? @
optionsA H
)H I
:J K
baseL P
(P Q
optionsQ X
)X Y
{ 	
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
Order  %
>% &
(& '
)' (
.( )
ToTable) 0
(0 1
$str1 9
)9 :
;: ;
modelBuilder 
. 
Entity 
<  
	OrderLine  )
>) *
(* +
)+ ,
., -
ToTable- 4
(4 5
$str5 A
)A B
;B C
modelBuilder 
. 
Entity 
<  
Product  '
>' (
(( )
)) *
.* +
ToTable+ 2
(2 3
$str3 =
)= >
;> ?
modelBuilder 
. 
Entity 
<  
User  $
>$ %
(% &
)& '
.' (
ToTable( /
(/ 0
$str0 7
)7 8
;8 9
modelBuilder 
. 
Entity 
<  
Order  %
>% &
(& '
)' (
.( )
HasKey) /
(/ 0
o0 1
=>2 4
o5 6
.6 7
OrderId7 >
)> ?
;? @
modelBuilder 
. 
Entity 
<  
Product  '
>' (
(( )
)) *
.* +
HasKey+ 1
(1 2
p2 3
=>4 6
p7 8
.8 9
	ProductId9 B
)B C
;C D
modelBuilder 
. 
Entity 
<  
User  $
>$ %
(% &
)& '
.' (
HasKey( .
(. /
u/ 0
=>1 3
u4 5
.5 6
UserId6 <
)< =
;= >
modelBuilder 
. 
Entity 
<  
	OrderLine  )
>) *
(* +
)+ ,
., -
HasKey- 3
(3 4
ol4 6
=>7 9
new: =
{> ?
ol? A
.A B
OrderIdB I
,I J
olK M
.M N
	ProductIdN W
}X Y
)Y Z
;Z [
}## 	
public%% 
DbSet%% 
<%% 
Product%% 
>%% 
Product%% %
{%%& '
get%%( +
;%%+ ,
set%%- 0
;%%0 1
}%%2 3
public'' 
DbSet'' 
<'' 
Order'' 
>'' 
Order'' !
{''" #
get''$ '
;''' (
set'') ,
;'', -
}''. /
public)) 
DbSet)) 
<)) 
User)) 
>)) 
User)) 
{))  !
get))" %
;))% &
set))' *
;))* +
})), -
public++ 
DbSet++ 
<++ 
	OrderLine++ 
>++ 
	OrderLine++  )
{++* +
get++, /
;++/ 0
set++1 4
;++4 5
}++6 7
},, 
}-- ¶6
AC:\Users\quint\Desktop\school\Controllers\OrderLinesController.cs
	namespace 	
backend_school_api
 
. 
Controllers (
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class  
OrderLinesController %
:& '
ControllerBase( 6
{ 
private 
readonly 
DatabaseContext (
_context) 1
;1 2
public  
OrderLinesController #
(# $
DatabaseContext$ 3
context4 ;
); <
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
	OrderLine3 <
>< =
>= >
>> ?
GetOrderLine@ L
(L M
)M N
{ 	
return 
await 
_context !
.! "
	OrderLine" +
.+ ,
ToListAsync, 7
(7 8
)8 9
;9 :
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
public!! 
async!! 
Task!! 
<!! 
ActionResult!! &
<!!& '
	OrderLine!!' 0
>!!0 1
>!!1 2
GetOrderLine!!3 ?
(!!? @
int!!@ C
id!!D F
)!!F G
{"" 	
var## 
	orderLine## 
=## 
await## !
_context##" *
.##* +
	OrderLine##+ 4
.##4 5
	FindAsync##5 >
(##> ?
id##? A
)##A B
;##B C
if%% 
(%% 
	orderLine%% 
==%% 
null%% !
)%%! "
{&& 
return'' 
NotFound'' 
(''  
)''  !
;''! "
}(( 
return** 
	orderLine** 
;** 
}++ 	
[00 	
HttpPut00	 
(00 
$str00 
)00 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
PutOrderLine11) 5
(115 6
int116 9
id11: <
,11< =
	OrderLine11> G
	orderLine11H Q
)11Q R
{22 	
if33 
(33 
id33 
!=33 
	orderLine33 
.33  
OrderId33  '
)33' (
{44 
return55 

BadRequest55 !
(55! "
)55" #
;55# $
}66 
_context88 
.88 
Entry88 
(88 
	orderLine88 $
)88$ %
.88% &
State88& +
=88, -
EntityState88. 9
.889 :
Modified88: B
;88B C
try:: 
{;; 
await<< 
_context<< 
.<< 
SaveChangesAsync<< /
(<</ 0
)<<0 1
;<<1 2
}== 
catch>> 
(>> (
DbUpdateConcurrencyException>> /
)>>/ 0
{?? 
if@@ 
(@@ 
!@@ 
OrderLineExists@@ $
(@@$ %
id@@% '
)@@' (
)@@( )
{AA 
returnBB 
NotFoundBB #
(BB# $
)BB$ %
;BB% &
}CC 
elseDD 
{EE 
throwFF 
;FF 
}GG 
}HH 
returnJJ 
	NoContentJJ 
(JJ 
)JJ 
;JJ 
}KK 	
[PP 	
HttpPostPP	 
]PP 
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
ActionResultQQ &
<QQ& '
	OrderLineQQ' 0
>QQ0 1
>QQ1 2
PostOrderLineQQ3 @
(QQ@ A
	OrderLineQQA J
	orderLineQQK T
)QQT U
{RR 	
_contextSS 
.SS 
	OrderLineSS 
.SS 
AddSS "
(SS" #
	orderLineSS# ,
)SS, -
;SS- .
tryTT 
{UU 
awaitVV 
_contextVV 
.VV 
SaveChangesAsyncVV /
(VV/ 0
)VV0 1
;VV1 2
}WW 
catchXX 
(XX 
DbUpdateExceptionXX $
)XX$ %
{YY 
ifZZ 
(ZZ 
OrderLineExistsZZ #
(ZZ# $
	orderLineZZ$ -
.ZZ- .
OrderIdZZ. 5
)ZZ5 6
)ZZ6 7
{[[ 
return\\ 
Conflict\\ #
(\\# $
)\\$ %
;\\% &
}]] 
else^^ 
{__ 
throw`` 
;`` 
}aa 
}bb 
returndd 
CreatedAtActiondd "
(dd" #
$strdd# 1
,dd1 2
newdd3 6
{dd7 8
iddd9 ;
=dd< =
	orderLinedd> G
.ddG H
OrderIdddH O
}ddP Q
,ddQ R
	orderLineddS \
)dd\ ]
;dd] ^
}ee 	
[hh 	

HttpDeletehh	 
(hh 
$strhh 
)hh 
]hh 
publicii 
asyncii 
Taskii 
<ii 
ActionResultii &
<ii& '
	OrderLineii' 0
>ii0 1
>ii1 2
DeleteOrderLineii3 B
(iiB C
intiiC F
idiiG I
)iiI J
{jj 	
varkk 
	orderLinekk 
=kk 
awaitkk !
_contextkk" *
.kk* +
	OrderLinekk+ 4
.kk4 5
	FindAsynckk5 >
(kk> ?
idkk? A
)kkA B
;kkB C
ifll 
(ll 
	orderLinell 
==ll 
nullll !
)ll! "
{mm 
returnnn 
NotFoundnn 
(nn  
)nn  !
;nn! "
}oo 
_contextqq 
.qq 
	OrderLineqq 
.qq 
Removeqq %
(qq% &
	orderLineqq& /
)qq/ 0
;qq0 1
awaitrr 
_contextrr 
.rr 
SaveChangesAsyncrr +
(rr+ ,
)rr, -
;rr- .
returntt 
	orderLinett 
;tt 
}uu 	
privateww 
boolww 
OrderLineExistsww $
(ww$ %
intww% (
idww) +
)ww+ ,
{xx 	
returnyy 
_contextyy 
.yy 
	OrderLineyy %
.yy% &
Anyyy& )
(yy) *
eyy* +
=>yy, .
eyy/ 0
.yy0 1
OrderIdyy1 8
==yy9 ;
idyy< >
)yy> ?
;yy? @
}zz 	
}{{ 
}|| 1
=C:\Users\quint\Desktop\school\Controllers\OrdersController.cs
	namespace 	
backend_school_api
 
. 
Controllers (
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
OrdersController !
:" #
ControllerBase$ 2
{ 
private 
readonly 
DatabaseContext (
_context) 1
;1 2
public 
OrdersController 
(  
DatabaseContext  /
context0 7
)7 8
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
Order3 8
>8 9
>9 :
>: ;
GetOrder< D
(D E
)E F
{ 	
return 
await 
_context !
.! "
Order" '
.' (
ToListAsync( 3
(3 4
)4 5
;5 6
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
public!! 
async!! 
Task!! 
<!! 
ActionResult!! &
<!!& '
Order!!' ,
>!!, -
>!!- .
GetOrder!!/ 7
(!!7 8
int!!8 ;
id!!< >
)!!> ?
{"" 	
var## 
order## 
=## 
await## 
_context## &
.##& '
Order##' ,
.##, -
	FindAsync##- 6
(##6 7
id##7 9
)##9 :
;##: ;
if%% 
(%% 
order%% 
==%% 
null%% 
)%% 
{&& 
return'' 
NotFound'' 
(''  
)''  !
;''! "
}(( 
return** 
order** 
;** 
}++ 	
[00 	
HttpPut00	 
(00 
$str00 
)00 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
PutOrder11) 1
(111 2
int112 5
id116 8
,118 9
Order11: ?
order11@ E
)11E F
{22 	
if33 
(33 
id33 
!=33 
order33 
.33 
OrderId33 #
)33# $
{44 
return55 

BadRequest55 !
(55! "
)55" #
;55# $
}66 
_context88 
.88 
Entry88 
(88 
order88  
)88  !
.88! "
State88" '
=88( )
EntityState88* 5
.885 6
Modified886 >
;88> ?
try:: 
{;; 
await<< 
_context<< 
.<< 
SaveChangesAsync<< /
(<</ 0
)<<0 1
;<<1 2
}== 
catch>> 
(>> (
DbUpdateConcurrencyException>> /
)>>/ 0
{?? 
if@@ 
(@@ 
!@@ 
OrderExists@@  
(@@  !
id@@! #
)@@# $
)@@$ %
{AA 
returnBB 
NotFoundBB #
(BB# $
)BB$ %
;BB% &
}CC 
elseDD 
{EE 
throwFF 
;FF 
}GG 
}HH 
returnJJ 
	NoContentJJ 
(JJ 
)JJ 
;JJ 
}KK 	
[PP 	
HttpPostPP	 
]PP 
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
ActionResultQQ &
<QQ& '
OrderQQ' ,
>QQ, -
>QQ- .
	PostOrderQQ/ 8
(QQ8 9
OrderQQ9 >
orderQQ? D
)QQD E
{RR 	
_contextSS 
.SS 
OrderSS 
.SS 
AddSS 
(SS 
orderSS $
)SS$ %
;SS% &
awaitTT 
_contextTT 
.TT 
SaveChangesAsyncTT +
(TT+ ,
)TT, -
;TT- .
returnVV 
CreatedAtActionVV "
(VV" #
$strVV# -
,VV- .
newVV/ 2
{VV3 4
idVV5 7
=VV8 9
orderVV: ?
.VV? @
OrderIdVV@ G
}VVH I
,VVI J
orderVVK P
)VVP Q
;VVQ R
}WW 	
[ZZ 	

HttpDeleteZZ	 
(ZZ 
$strZZ 
)ZZ 
]ZZ 
public[[ 
async[[ 
Task[[ 
<[[ 
ActionResult[[ &
<[[& '
Order[[' ,
>[[, -
>[[- .
DeleteOrder[[/ :
([[: ;
int[[; >
id[[? A
)[[A B
{\\ 	
var]] 
order]] 
=]] 
await]] 
_context]] &
.]]& '
Order]]' ,
.]], -
	FindAsync]]- 6
(]]6 7
id]]7 9
)]]9 :
;]]: ;
if^^ 
(^^ 
order^^ 
==^^ 
null^^ 
)^^ 
{__ 
return`` 
NotFound`` 
(``  
)``  !
;``! "
}aa 
_contextcc 
.cc 
Ordercc 
.cc 
Removecc !
(cc! "
ordercc" '
)cc' (
;cc( )
awaitdd 
_contextdd 
.dd 
SaveChangesAsyncdd +
(dd+ ,
)dd, -
;dd- .
returnff 
orderff 
;ff 
}gg 	
privateii 
boolii 
OrderExistsii  
(ii  !
intii! $
idii% '
)ii' (
{jj 	
returnkk 
_contextkk 
.kk 
Orderkk !
.kk! "
Anykk" %
(kk% &
ekk& '
=>kk( *
ekk+ ,
.kk, -
OrderIdkk- 4
==kk5 7
idkk8 :
)kk: ;
;kk; <
}ll 	
}mm 
}nn ì1
?C:\Users\quint\Desktop\school\Controllers\ProductsController.cs
	namespace 	
backend_school_api
 
. 
Controllers (
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ProductsController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
DatabaseContext (
_context) 1
;1 2
public 
ProductsController !
(! "
DatabaseContext" 1
context2 9
)9 :
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
Product3 :
>: ;
>; <
>< =

GetProduct> H
(H I
)I J
{ 	
return 
await 
_context !
.! "
Product" )
.) *
ToListAsync* 5
(5 6
)6 7
;7 8
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
public!! 
async!! 
Task!! 
<!! 
ActionResult!! &
<!!& '
Product!!' .
>!!. /
>!!/ 0

GetProduct!!1 ;
(!!; <
int!!< ?
id!!@ B
)!!B C
{"" 	
var## 
product## 
=## 
await## 
_context##  (
.##( )
Product##) 0
.##0 1
	FindAsync##1 :
(##: ;
id##; =
)##= >
;##> ?
if%% 
(%% 
product%% 
==%% 
null%% 
)%%  
{&& 
return'' 
NotFound'' 
(''  
)''  !
;''! "
}(( 
return** 
product** 
;** 
}++ 	
[00 	
HttpPut00	 
(00 
$str00 
)00 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (

PutProduct11) 3
(113 4
int114 7
id118 :
,11: ;
Product11< C
product11D K
)11K L
{22 	
if33 
(33 
id33 
!=33 
product33 
.33 
	ProductId33 '
)33' (
{44 
return55 

BadRequest55 !
(55! "
)55" #
;55# $
}66 
_context88 
.88 
Entry88 
(88 
product88 "
)88" #
.88# $
State88$ )
=88* +
EntityState88, 7
.887 8
Modified888 @
;88@ A
try:: 
{;; 
await<< 
_context<< 
.<< 
SaveChangesAsync<< /
(<</ 0
)<<0 1
;<<1 2
}== 
catch>> 
(>> (
DbUpdateConcurrencyException>> /
)>>/ 0
{?? 
if@@ 
(@@ 
!@@ 
ProductExists@@ "
(@@" #
id@@# %
)@@% &
)@@& '
{AA 
returnBB 
NotFoundBB #
(BB# $
)BB$ %
;BB% &
}CC 
elseDD 
{EE 
throwFF 
;FF 
}GG 
}HH 
returnJJ 
	NoContentJJ 
(JJ 
)JJ 
;JJ 
}KK 	
[PP 	
HttpPostPP	 
]PP 
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
ActionResultQQ &
<QQ& '
ProductQQ' .
>QQ. /
>QQ/ 0
PostProductQQ1 <
(QQ< =
ProductQQ= D
productQQE L
)QQL M
{RR 	
_contextSS 
.SS 
ProductSS 
.SS 
AddSS  
(SS  !
productSS! (
)SS( )
;SS) *
awaitTT 
_contextTT 
.TT 
SaveChangesAsyncTT +
(TT+ ,
)TT, -
;TT- .
returnVV 
CreatedAtActionVV "
(VV" #
$strVV# /
,VV/ 0
newVV1 4
{VV5 6
idVV7 9
=VV: ;
productVV< C
.VVC D
	ProductIdVVD M
}VVN O
,VVO P
productVVQ X
)VVX Y
;VVY Z
}WW 	
[ZZ 	

HttpDeleteZZ	 
(ZZ 
$strZZ 
)ZZ 
]ZZ 
public[[ 
async[[ 
Task[[ 
<[[ 
ActionResult[[ &
<[[& '
Product[[' .
>[[. /
>[[/ 0
DeleteProduct[[1 >
([[> ?
int[[? B
id[[C E
)[[E F
{\\ 	
var]] 
product]] 
=]] 
await]] 
_context]]  (
.]]( )
Product]]) 0
.]]0 1
	FindAsync]]1 :
(]]: ;
id]]; =
)]]= >
;]]> ?
if^^ 
(^^ 
product^^ 
==^^ 
null^^ 
)^^  
{__ 
return`` 
NotFound`` 
(``  
)``  !
;``! "
}aa 
_contextcc 
.cc 
Productcc 
.cc 
Removecc #
(cc# $
productcc$ +
)cc+ ,
;cc, -
awaitdd 
_contextdd 
.dd 
SaveChangesAsyncdd +
(dd+ ,
)dd, -
;dd- .
returnff 
productff 
;ff 
}gg 	
privateii 
boolii 
ProductExistsii "
(ii" #
intii# &
idii' )
)ii) *
{jj 	
returnkk 
_contextkk 
.kk 
Productkk #
.kk# $
Anykk$ '
(kk' (
ekk( )
=>kk* ,
ekk- .
.kk. /
	ProductIdkk/ 8
==kk9 ;
idkk< >
)kk> ?
;kk? @
}ll 	
}mm 
}nn ÷0
<C:\Users\quint\Desktop\school\Controllers\UsersController.cs
	namespace 	
backend_school_api
 
. 
Controllers (
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UsersController  
:! "
ControllerBase# 1
{ 
private 
readonly 
DatabaseContext (
_context) 1
;1 2
public 
UsersController 
( 
DatabaseContext .
context/ 6
)6 7
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
ActionResult &
<& '
IEnumerable' 2
<2 3
User3 7
>7 8
>8 9
>9 :
GetUser; B
(B C
)C D
{ 	
return 
await 
_context !
.! "
User" &
.& '
ToListAsync' 2
(2 3
)3 4
;4 5
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
public!! 
async!! 
Task!! 
<!! 
ActionResult!! &
<!!& '
User!!' +
>!!+ ,
>!!, -
GetUser!!. 5
(!!5 6
int!!6 9
id!!: <
)!!< =
{"" 	
var## 
user## 
=## 
await## 
_context## %
.##% &
User##& *
.##* +
	FindAsync##+ 4
(##4 5
id##5 7
)##7 8
;##8 9
if%% 
(%% 
user%% 
==%% 
null%% 
)%% 
{&& 
return'' 
NotFound'' 
(''  
)''  !
;''! "
}(( 
return** 
user** 
;** 
}++ 	
[00 	
HttpPut00	 
(00 
$str00 
)00 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
PutUser11) 0
(110 1
int111 4
id115 7
,117 8
User119 =
user11> B
)11B C
{22 	
if33 
(33 
id33 
!=33 
user33 
.33 
UserId33 !
)33! "
{44 
return55 

BadRequest55 !
(55! "
)55" #
;55# $
}66 
_context88 
.88 
Entry88 
(88 
user88 
)88  
.88  !
State88! &
=88' (
EntityState88) 4
.884 5
Modified885 =
;88= >
try:: 
{;; 
await<< 
_context<< 
.<< 
SaveChangesAsync<< /
(<</ 0
)<<0 1
;<<1 2
}== 
catch>> 
(>> (
DbUpdateConcurrencyException>> /
)>>/ 0
{?? 
if@@ 
(@@ 
!@@ 

UserExists@@ 
(@@  
id@@  "
)@@" #
)@@# $
{AA 
returnBB 
NotFoundBB #
(BB# $
)BB$ %
;BB% &
}CC 
elseDD 
{EE 
throwFF 
;FF 
}GG 
}HH 
returnJJ 
	NoContentJJ 
(JJ 
)JJ 
;JJ 
}KK 	
[PP 	
HttpPostPP	 
]PP 
publicQQ 
asyncQQ 
TaskQQ 
<QQ 
ActionResultQQ &
<QQ& '
UserQQ' +
>QQ+ ,
>QQ, -
PostUserQQ. 6
(QQ6 7
UserQQ7 ;
userQQ< @
)QQ@ A
{RR 	
_contextSS 
.SS 
UserSS 
.SS 
AddSS 
(SS 
userSS "
)SS" #
;SS# $
awaitTT 
_contextTT 
.TT 
SaveChangesAsyncTT +
(TT+ ,
)TT, -
;TT- .
returnVV 
CreatedAtActionVV "
(VV" #
$strVV# ,
,VV, -
newVV. 1
{VV2 3
idVV4 6
=VV7 8
userVV9 =
.VV= >
UserIdVV> D
}VVE F
,VVF G
userVVH L
)VVL M
;VVM N
}WW 	
[ZZ 	

HttpDeleteZZ	 
(ZZ 
$strZZ 
)ZZ 
]ZZ 
public[[ 
async[[ 
Task[[ 
<[[ 
ActionResult[[ &
<[[& '
User[[' +
>[[+ ,
>[[, -

DeleteUser[[. 8
([[8 9
int[[9 <
id[[= ?
)[[? @
{\\ 	
var]] 
user]] 
=]] 
await]] 
_context]] %
.]]% &
User]]& *
.]]* +
	FindAsync]]+ 4
(]]4 5
id]]5 7
)]]7 8
;]]8 9
if^^ 
(^^ 
user^^ 
==^^ 
null^^ 
)^^ 
{__ 
return`` 
NotFound`` 
(``  
)``  !
;``! "
}aa 
_contextcc 
.cc 
Usercc 
.cc 
Removecc  
(cc  !
usercc! %
)cc% &
;cc& '
awaitdd 
_contextdd 
.dd 
SaveChangesAsyncdd +
(dd+ ,
)dd, -
;dd- .
returnff 
userff 
;ff 
}gg 	
privateii 
boolii 

UserExistsii 
(ii  
intii  #
idii$ &
)ii& '
{jj 	
returnkk 
_contextkk 
.kk 
Userkk  
.kk  !
Anykk! $
(kk$ %
ekk% &
=>kk' )
ekk* +
.kk+ ,
UserIdkk, 2
==kk3 5
idkk6 8
)kk8 9
;kk9 :
}ll 	
}mm 
}nn ¼U
JC:\Users\quint\Desktop\school\Migrations\20201230225328_first-migration.cs
	namespace 	
backend_school_api
 
. 

Migrations '
{ 
public 

partial 
class 
firstmigration '
:( )
	Migration* 3
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
OrderId 
= 
table #
.# $
Column$ *
<* +
int+ .
>. /
(/ 0
type0 4
:4 5
$str6 ;
,; <
nullable= E
:E F
falseG L
)L M
. 

Annotation #
(# $
$str$ C
,C D(
MySqlValueGenerationStrategyE a
.a b
IdentityColumnb p
)p q
,q r

CustomerId 
=  
table! &
.& '
Column' -
<- .
int. 1
>1 2
(2 3
type3 7
:7 8
$str9 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q
Total 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 W
,W X
nullableY a
:a b
truec g
)g h
,h i
Adres 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 W
,W X
nullableY a
:a b
truec g
)g h
,h i
HouseNumber 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= ]
,] ^
nullable_ g
:g h
truei m
)m n
,n o

PostalCode 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
type6 :
:: ;
$str< \
,\ ]
nullable^ f
:f g
trueh l
)l m
,m n
	OrderDate 
= 
table  %
.% &
Column& ,
<, -
DateTime- 5
>5 6
(6 7
type7 ;
:; <
$str= J
,J K
nullableL T
:T U
falseV [
)[ \
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 0
,0 1
x2 3
=>4 6
x7 8
.8 9
OrderId9 @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{   
	ProductId!! 
=!! 
table!!  %
.!!% &
Column!!& ,
<!!, -
int!!- 0
>!!0 1
(!!1 2
type!!2 6
:!!6 7
$str!!8 =
,!!= >
nullable!!? G
:!!G H
false!!I N
)!!N O
."" 

Annotation"" #
(""# $
$str""$ C
,""C D(
MySqlValueGenerationStrategy""E a
.""a b
IdentityColumn""b p
)""p q
,""q r
Name## 
=## 
table##  
.##  !
Column##! '
<##' (
string##( .
>##. /
(##/ 0
type##0 4
:##4 5
$str##6 V
,##V W
nullable##X `
:##` a
true##b f
)##f g
,##g h
Description$$ 
=$$  !
table$$" '
.$$' (
Column$$( .
<$$. /
string$$/ 5
>$$5 6
($$6 7
type$$7 ;
:$$; <
$str$$= ]
,$$] ^
nullable$$_ g
:$$g h
true$$i m
)$$m n
,$$n o
Price%% 
=%% 
table%% !
.%%! "
Column%%" (
<%%( )
double%%) /
>%%/ 0
(%%0 1
type%%1 5
:%%5 6
$str%%7 ?
,%%? @
nullable%%A I
:%%I J
false%%K P
)%%P Q
}&& 
,&& 
constraints'' 
:'' 
table'' "
=>''# %
{(( 
table)) 
.)) 

PrimaryKey)) $
())$ %
$str))% 2
,))2 3
x))4 5
=>))6 8
x))9 :
.)): ;
	ProductId)); D
)))D E
;))E F
}** 
)** 
;** 
migrationBuilder,, 
.,, 
CreateTable,, (
(,,( )
name-- 
:-- 
$str-- 
,-- 
columns.. 
:.. 
table.. 
=>.. !
new.." %
{// 
UserId00 
=00 
table00 "
.00" #
Column00# )
<00) *
int00* -
>00- .
(00. /
type00/ 3
:003 4
$str005 :
,00: ;
nullable00< D
:00D E
false00F K
)00K L
.11 

Annotation11 #
(11# $
$str11$ C
,11C D(
MySqlValueGenerationStrategy11E a
.11a b
IdentityColumn11b p
)11p q
,11q r
Username22 
=22 
table22 $
.22$ %
Column22% +
<22+ ,
string22, 2
>222 3
(223 4
type224 8
:228 9
$str22: Z
,22Z [
nullable22\ d
:22d e
true22f j
)22j k
,22k l
Password33 
=33 
table33 $
.33$ %
Column33% +
<33+ ,
string33, 2
>332 3
(333 4
type334 8
:338 9
$str33: Z
,33Z [
nullable33\ d
:33d e
true33f j
)33j k
,33k l
Email44 
=44 
table44 !
.44! "
Column44" (
<44( )
string44) /
>44/ 0
(440 1
type441 5
:445 6
$str447 W
,44W X
nullable44Y a
:44a b
true44c g
)44g h
,44h i
Phone55 
=55 
table55 !
.55! "
Column55" (
<55( )
string55) /
>55/ 0
(550 1
type551 5
:555 6
$str557 W
,55W X
nullable55Y a
:55a b
true55c g
)55g h
}66 
,66 
constraints77 
:77 
table77 "
=>77# %
{88 
table99 
.99 

PrimaryKey99 $
(99$ %
$str99% /
,99/ 0
x991 2
=>993 5
x996 7
.997 8
UserId998 >
)99> ?
;99? @
}:: 
):: 
;:: 
migrationBuilder<< 
.<< 
CreateTable<< (
(<<( )
name== 
:== 
$str== "
,==" #
columns>> 
:>> 
table>> 
=>>> !
new>>" %
{?? 
OrderId@@ 
=@@ 
table@@ #
.@@# $
Column@@$ *
<@@* +
int@@+ .
>@@. /
(@@/ 0
type@@0 4
:@@4 5
$str@@6 ;
,@@; <
nullable@@= E
:@@E F
false@@G L
)@@L M
,@@M N
	ProductIdAA 
=AA 
tableAA  %
.AA% &
ColumnAA& ,
<AA, -
intAA- 0
>AA0 1
(AA1 2
typeAA2 6
:AA6 7
$strAA8 =
,AA= >
nullableAA? G
:AAG H
falseAAI N
)AAN O
,AAO P
AmountBB 
=BB 
tableBB "
.BB" #
ColumnBB# )
<BB) *
intBB* -
>BB- .
(BB. /
typeBB/ 3
:BB3 4
$strBB5 :
,BB: ;
nullableBB< D
:BBD E
falseBBF K
)BBK L
}CC 
,CC 
constraintsDD 
:DD 
tableDD "
=>DD# %
{EE 
tableFF 
.FF 

PrimaryKeyFF $
(FF$ %
$strFF% 4
,FF4 5
xFF6 7
=>FF8 :
newFF; >
{FF? @
xFFA B
.FFB C
OrderIdFFC J
,FFJ K
xFFL M
.FFM N
	ProductIdFFN W
}FFX Y
)FFY Z
;FFZ [
tableGG 
.GG 

ForeignKeyGG $
(GG$ %
nameHH 
:HH 
$strHH <
,HH< =
columnII 
:II 
xII  !
=>II" $
xII% &
.II& '
OrderIdII' .
,II. /
principalTableJJ &
:JJ& '
$strJJ( 0
,JJ0 1
principalColumnKK '
:KK' (
$strKK) 2
,KK2 3
onDeleteLL  
:LL  !
ReferentialActionLL" 3
.LL3 4
CascadeLL4 ;
)LL; <
;LL< =
}MM 
)MM 
;MM 
}NN 	
	protectedPP 
overridePP 
voidPP 
DownPP  $
(PP$ %
MigrationBuilderPP% 5
migrationBuilderPP6 F
)PPF G
{QQ 	
migrationBuilderRR 
.RR 
	DropTableRR &
(RR& '
nameSS 
:SS 
$strSS "
)SS" #
;SS# $
migrationBuilderUU 
.UU 
	DropTableUU &
(UU& '
nameVV 
:VV 
$strVV  
)VV  !
;VV! "
migrationBuilderXX 
.XX 
	DropTableXX &
(XX& '
nameYY 
:YY 
$strYY 
)YY 
;YY 
migrationBuilder[[ 
.[[ 
	DropTable[[ &
([[& '
name\\ 
:\\ 
$str\\ 
)\\ 
;\\  
}]] 	
}^^ 
}__ £
-C:\Users\quint\Desktop\school\Models\Order.cs
	namespace 	
backend_school_api
 
. 
Models #
{ 
public 

class 
Order 
{ 
public		 
int		 
OrderId		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public

 
int

 

CustomerId

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
string 
Total 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Adres 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
HouseNumber !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 

PostalCode  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
	OrderDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
virtual 
List 
< 
	OrderLine %
>% &
OrderProducts' 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
} 
} Ê
1C:\Users\quint\Desktop\school\Models\OrderLine.cs
	namespace 	
backend_school_api
 
. 
Models #
{ 
public 

class 
	OrderLine 
{ 
public		 
int		 
OrderId		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public

 
int

 
	ProductId

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

) *
public 
int 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ç
/C:\Users\quint\Desktop\school\Models\Product.cs
	namespace 	
backend_school_api
 
. 
Models #
{ 
public 

class 
Product 
{ 
public		 
int		 
	ProductId		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
string

 
Name

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
double 
Price 
{ 
get !
;! "
set# &
;& '
}( )
} 
} ø
,C:\Users\quint\Desktop\school\Models\User.cs
	namespace 	
backend_school_api
 
. 
Models #
{ 
public 

class 
User 
{ 
public		 
int		 
UserId		 
{		 
get		 
;		  
set		! $
;		$ %
}		& '
public

 
string

 
Username

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
} 
} 

(C:\Users\quint\Desktop\school\Program.cs
	namespace

 	
backend_school_api


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} þ
(C:\Users\quint\Desktop\school\Startup.cs
	namespace 	
backend_school_api
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
string 
mySqlConnectionStr %
=& '
Configuration( 5
.5 6
GetConnectionString6 I
(I J
$strJ ]
)] ^
;^ _
services 
. 
AddDbContextPool %
<% &
DatabaseContext& 5
>5 6
(6 7
options7 >
=>? A
optionsB I
.I J
UseMySqlJ R
(R S
mySqlConnectionStrS e
,e f
ServerVersiong t
.t u

AutoDetectu 
(	  
mySqlConnectionStr
 
)
 
)
 
)
 
;
 
services!! 
.!! 
AddControllers!! #
(!!# $
)!!$ %
;!!% &
}"" 	
public%% 
void%% 
	Configure%% 
(%% 
IApplicationBuilder%% 1
app%%2 5
,%%5 6
IWebHostEnvironment%%7 J
env%%K N
)%%N O
{&& 	
if'' 
('' 
env'' 
.'' 
IsDevelopment'' !
(''! "
)''" #
)''# $
{(( 
app)) 
.)) %
UseDeveloperExceptionPage)) -
())- .
))). /
;))/ 0
}** 
app,, 
.,, 
UseHttpsRedirection,, #
(,,# $
),,$ %
;,,% &
app.. 
... 

UseRouting.. 
(.. 
).. 
;.. 
app00 
.00 
UseAuthorization00  
(00  !
)00! "
;00" #
app22 
.22 
UseEndpoints22 
(22 
	endpoints22 &
=>22' )
{33 
	endpoints44 
.44 
MapControllers44 (
(44( )
)44) *
;44* +
}55 
)55 
;55 
}66 	
}77 
}88 